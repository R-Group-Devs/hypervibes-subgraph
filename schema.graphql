type Realm @entity {
  id: ID!
  name: String!
  description: String!

  """
  Block this realm was created at
  """
  createdAt: BigInt!

  """
  Block this realm was last modified at
  """
  modifiedAt: BigInt!

  # immutable data

  """
  erc20 token contract address
  """
  token: String!


  # constraints

  minDailyRate: BigInt!
  maxDailyRate: BigInt!
  minInfusionAmount: BigInt!
  maxInfusionAmount: BigInt!
  maxTokenBalance: BigInt!
  requireNftIsOwned: Boolean!
  allowMultiInfuse: Boolean!
  allowPublicInfusion: Boolean!
  allowAllCollections: Boolean!

  admins: [RealmAdmin!]! @derivedFrom(field: "realm")
  infusers: [RealmInfuser!]! @derivedFrom(field: "realm")
}

type Account @entity {
  """
  address
  """
  id: ID!
  realmAdmins: [RealmAdmin!]! @derivedFrom(field: "account")
  realmInfusers: [RealmInfuser!]! @derivedFrom(field: "account")
}

type RealmAdmin @entity {
  id: ID!
  account: Account!
  realm: Realm!

  """
  Block that this admin was added
  """
  createdAt: BigInt!
}

type RealmInfuser @entity {
  id: ID!
  account: Account!
  realm: Realm!

  """
  Block that this infuser was added
  """
  createdAt: BigInt!
}
